make.hist <- function(dat, k) {
ggplot(data = dat, aes(x = dat[,grep("fraction.cond.2", colnames(dat))])) +
geom_histogram(aes(y = ..count..), binwidth = 1/k) +
xlim(c(0, 1)) +
theme(text = element_text(size = 20)) +
xlab("fraction stimulated")
}
make.hist(final, 1000)
library(ggplot2)
# Makes a histogram of the data that is inputted
# Args:
#   dat: tibble consisting both of original markers and the appended values from scone
# Returns:
#   a histogram of said vector in ggplot2 form
make.hist <- function(dat, k) {
ggplot(data = dat, aes(x = dat[,grep("fraction.cond.2", colnames(dat))])) +
geom_histogram(aes(y = ..count..), binwidth = 1/k) +
xlim(c(0, 1)) +
theme(text = element_text(size = 20)) +
xlab("fraction stimulated")
}
make.hist(final, 100)
library(ggplot2)
# Makes a histogram of the data that is inputted
# Args:
#   dat: tibble consisting both of original markers and the appended values from scone
# Returns:
#   a histogram of said vector in ggplot2 form
make.hist <- function(dat, k) {
ggplot(data = dat, aes(x = dat[,grep("fraction.cond.2", colnames(dat))])) +
geom_histogram(aes(y = ..count..), binwidth = 1/k) +
xlim(c(0, 1)) +
theme(text = element_text(size = 20)) +
xlab("fraction stimulated")
}
# Visualization
make.hist(final, 100)
# Characteristics of the visualization
median(final$IL7.fraction.cond.2)
sd(final$IL7.fraction.cond.2)
# Compare to a coin toss distribution
# Flips a coin k number of times, n repetitions, and returns the vector containing the per-k percent heads
k.flip <- function(k, n) {
# The result
result <- sapply(1:n, function(i) {
# Get the fraction heads for n flips
flips <- sample(c(0, 1), k, replace = TRUE)
percent.heads <- sum(flips)/length(flips)
return(percent.heads)
})
}
coin.toss <- k.flip(100, 10000)
make.hist(coin.toss, 100)
# Compare to a coin toss distribution
# Flips a coin k number of times, n repetitions, and returns the vector containing the per-k percent heads
k.flip <- function(k, n) {
# The result
result <- sapply(1:n, function(i) {
# Get the fraction heads for n flips
flips <- sample(c(0, 1), k, replace = TRUE)
percent.heads <- sum(flips)/length(flips)
return(percent.heads)
})
}
# Makes a histogram of the data that is inputted
# Args:
#   dat: tibble consisting both of original markers and the appended values from scone
#   n: the binwidth
# Returns:
#   a histogram of said vector in ggplot2 form
make.hist <- function(dat, n) {
ggplot(data = dat, aes(x = dat[,1])) +
geom_histogram(aes(y = ..count..), binwidth = n) +
xlim(c(0, 1)) +
theme(text = element_text(size = 20)) +
xlab("fraction stimulated")
}
coin.toss <- k.flip(100, 10000)
make.hist(coin.toss, 100)
# Compare to a coin toss distribution
# Flips a coin k number of times, n repetitions, and returns the vector containing the per-k percent heads
k.flip <- function(k, n) {
# The result
result <- sapply(1:n, function(i) {
# Get the fraction heads for n flips
flips <- sample(c(0, 1), k, replace = TRUE)
percent.heads <- sum(flips)/length(flips)
return(percent.heads)
})
}
# Makes a histogram of the data that is inputted
# Args:
#   dat: tibble consisting both of original markers and the appended values from scone
#   n: the binwidth
# Returns:
#   a histogram of said vector in ggplot2 form
make.hist <- function(dat, n) {
ggplot(data = dat, aes(x = dat[,1])) +
geom_histogram(aes(y = ..count..), binwidth = n) +
xlim(c(0, 1)) +
theme(text = element_text(size = 20)) +
xlab("fraction stimulated")
}
coin.toss <- k.flip(100, 10000)
make.hist(as.tibble(coin.toss), 100)
library(tidyverse)
# Compare to a coin toss distribution
# Flips a coin k number of times, n repetitions, and returns the vector containing the per-k percent heads
k.flip <- function(k, n) {
# The result
result <- sapply(1:n, function(i) {
# Get the fraction heads for n flips
flips <- sample(c(0, 1), k, replace = TRUE)
percent.heads <- sum(flips)/length(flips)
return(percent.heads)
})
}
# Makes a histogram of the data that is inputted
# Args:
#   dat: tibble consisting both of original markers and the appended values from scone
#   n: the binwidth
# Returns:
#   a histogram of said vector in ggplot2 form
make.hist <- function(dat, n) {
ggplot(data = dat, aes(x = dat[,1])) +
geom_histogram(aes(y = ..count..), binwidth = n) +
xlim(c(0, 1)) +
theme(text = element_text(size = 20)) +
xlab("fraction stimulated")
}
coin.toss <- k.flip(100, 10000)
make.hist(as.tibble(coin.toss), 100)
median(coin.toss)
sd(coin.toss)
k.flip <- function(k, n) {
# The result
result <- sapply(1:n, function(i) {
# Get the fraction heads for n flips
flips <- sample(c(0, 1), k, replace = TRUE)
percent.heads <- sum(flips)/length(flips)
return(percent.heads)
})
}
test <- k.flip(100, 10000)
test
make.hist <- function(dat, n) {
ggplot(data = dat, aes(x = dat[,1])) +
geom_histogram(aes(y = ..count..), binwidth = n) +
xlim(c(0, 1)) +
theme(text = element_text(size = 20)) +
xlab("fraction stimulated")
}
make.hist(test)
make.hist(as.tibble(test))
make.hist(as.tibble(test), 100)
make.hist(as.tibble(test), 1000)
make.hist(as.tibble(test), 1)
# Compare to a coin toss distribution
# Flips a coin k number of times, n repetitions, and returns the vector containing the per-k percent heads
k.flip <- function(k, n) {
# The result
result <- sapply(1:n, function(i) {
# Get the fraction heads for n flips
flips <- sample(c(0, 1), k, replace = TRUE)
percent.heads <- sum(flips)/length(flips)
return(percent.heads)
})
}
# Makes a histogram of the data that is inputted
# Args:
#   dat: tibble consisting both of original markers and the appended values from scone
#   n: the binwidth
# Returns:
#   a histogram of said vector in ggplot2 form
make.hist <- function(dat, n) {
ggplot(data = dat, aes(x = dat[,1])) +
geom_histogram(aes(y = ..count..), binwidth = 1/n) +
xlim(c(0, 1)) +
theme(text = element_text(size = 20)) +
xlab("fraction stimulated")
}
coin.toss <- k.flip(100, 10000)
make.hist(as.tibble(coin.toss), 100)
median(coin.toss)
sd(coin.toss)
# Compare to a coin toss distribution
# Flips a coin k number of times, n repetitions, and returns the vector containing the per-k percent heads
k.flip <- function(k, n) {
# The result
result <- sapply(1:n, function(i) {
# Get the fraction heads for n flips
flips <- sample(c(0, 1), k, replace = TRUE)
percent.heads <- sum(flips)/length(flips)
return(percent.heads)
})
}
# Makes a histogram of the data that is inputted
# Args:
#   dat: tibble consisting both of original markers and the appended values from scone
#   n: the binwidth
# Returns:
#   a histogram of said vector in ggplot2 form
make.hist <- function(dat, n) {
ggplot(data = dat, aes(x = dat[,1])) +
geom_histogram(aes(y = ..count..), binwidth = 1/n) +
xlim(c(0, 1)) +
theme(text = element_text(size = 20)) +
xlab("fraction stimulated")
}
coin.toss <- k.flip(100, 10000)
make.hist(as.tibble(coin.toss), 100)
median(coin.toss)
sd(coin.toss)
library(ggplot2)
library(tidyverse)
# Compare to a coin toss distribution
# Flips a coin k number of times, n repetitions, and returns the vector containing the per-k percent heads
k.flip <- function(k, n) {
# The result
result <- sapply(1:n, function(i) {
# Get the fraction heads for n flips
flips <- sample(c(0, 1), k, replace = TRUE)
percent.heads <- sum(flips)/length(flips)
return(percent.heads)
})
}
# Makes a histogram of the data that is inputted
# Args:
#   dat: tibble consisting both of original markers and the appended values from scone
#   k: the binwidth
# Returns:
#   a histogram of said vector in ggplot2 form
make.hist <- function(dat, k) {
ggplot(data = dat, aes(x = dat[,1])) +
geom_histogram(aes(y = ..count..), binwidth = 1/n) +
xlim(c(0, 1)) +
theme(text = element_text(size = 20)) +
xlab("fraction stimulated")
}
coin.toss <- k.flip(100, 10000)
make.hist(as.tibble(coin.toss), 100)
# Compare to a coin toss distribution
# Flips a coin k number of times, n repetitions, and returns the vector containing the per-k percent heads
k.flip <- function(k, n) {
# The result
result <- sapply(1:n, function(i) {
# Get the fraction heads for n flips
flips <- sample(c(0, 1), k, replace = TRUE)
percent.heads <- sum(flips)/length(flips)
return(percent.heads)
})
}
# Makes a histogram of the data that is inputted
# Args:
#   dat: tibble consisting both of original markers and the appended values from scone
#   k: the binwidth
# Returns:
#   a histogram of said vector in ggplot2 form
make.hist <- function(dat, k) {
ggplot(data = dat, aes(x = dat[,1])) +
geom_histogram(aes(y = ..count..), binwidth = 1/k) +
xlim(c(0, 1)) +
theme(text = element_text(size = 20)) +
xlab("fraction stimulated")
}
coin.toss <- k.flip(100, 10000)
make.hist(as.tibble(coin.toss), 100)
median(coin.toss)
sd(coin.toss)
qplot(final$`bh-SNE1`,
final$`bh-SNE2`,
color = final$IL7.fraction.cond.2,
xlab = "bh-SNE1",
ylab = "bh-SNE2") +
labs(color = "IL7 -> pSTAT5 -log10(qvalue)") +
scale_color_gradientn(colors = c("black", "yellow"))
qplot(final$`bh-SNE1`,
final$`bh-SNE2`,
color = final$IL7.fraction.cond.2,
xlab = "bh-SNE1",
ylab = "bh-SNE2") +
labs(color = "Fraction cells in IL7 condition") +
scale_color_gradientn(colors = c("black", "yellow"))
qplot(final$`bh-SNE1`,
final$`bh-SNE2`,
color = final$IL7.fraction.cond.2,
xlab = "bh-SNE1",
ylab = "bh-SNE2") +
labs(color = "Fraction cells in IL7 condition") +
scale_color_gradientn(colors = c("black", "yellow"), values = c(0, 1))
qplot(final$`bh-SNE1`,
final$`bh-SNE2`,
color = final$IL7.fraction.cond.2,
xlab = "bh-SNE1",
ylab = "bh-SNE2") +
labs(color = "Fraction cells in IL7 condition") +
scale_color_gradientn(colors = c("black", "yellow"), limits = c(0, 1))
qplot(final$`bh-SNE1`,
final$`bh-SNE2`,
color = final$IL7.fraction.cond.2,
xlab = "bh-SNE1",
ylab = "bh-SNE2") +
labs(color = "Fraction cells in IL7 condition") +
scale_color_gradientn(colors = c("black", "yellow"), limits = c(0.3, 0.7))
qplot(final$`bh-SNE1`,
final$`bh-SNE2`,
color = final$IL7.fraction.cond.2,
xlab = "bh-SNE1",
ylab = "bh-SNE2") +
labs(color = "Fraction cells in IL7 condition") +
scale_color_gradientn(colors = c("black", "yellow"), limits = c(0.2, 0.8))
qplot(final$`bh-SNE1`,
final$`bh-SNE2`,
color = final$IL7.fraction.cond.2,
xlab = "bh-SNE1",
ylab = "bh-SNE2") +
labs(color = "Fraction cells in IL7 condition") +
scale_color_gradientn(colors = c("black", "yellow"), limits = c(0.25, 0.75))
qplot(final$`bh-SNE1`,
final$`bh-SNE2`,
color = final$IL7.fraction.cond.2,
xlab = "bh-SNE1",
ylab = "bh-SNE2") +
labs(color = "Fraction cells in IL7 condition") +
scale_color_gradientn(colors = c("black", "yellow"), limits = c(0.25, 0.75))
# Wanderlust values (higher means more somatic)
qplot(final$`bh-SNE1`,
final$`bh-SNE2`,
color = final$wanderlust,
xlab = "bh-SNE1",
ylab = "bh-SNE2") +
labs(color = "Wanderlust (somatic-ness) value") +
scale_color_gradientn(colors = c("black", "yellow"), limits = c(0.25, 0.75))
# Fraction of cells belonging to the IL-y condition.
qplot(final$`bh-SNE1`,
final$`bh-SNE2`,
color = final$IL7.fraction.cond.2,
xlab = "bh-SNE1",
ylab = "bh-SNE2") +
labs(color = "Fraction cells in IL7 condition") +
scale_color_gradientn(colors = c("black", "yellow"), limits = c(0.25, 0.75))
# Wanderlust values (higher means more somatic)
qplot(final$`bh-SNE1`,
final$`bh-SNE2`,
color = final$wanderlust,
xlab = "bh-SNE1",
ylab = "bh-SNE2") +
labs(color = "Wanderlust (somatic-ness) value") +
scale_color_gradientn(colors = c("black", "yellow"))
# Fraction of cells belonging to the IL-y condition.
qplot(final$`bh-SNE1`,
final$`bh-SNE2`,
color = final$IL7.fraction.cond.2,
xlab = "bh-SNE1",
ylab = "bh-SNE2") +
labs(color = "Fraction cells in IL7 condition") +
scale_color_gradientn(colors = c("black", "yellow"), limits = c(0.25, 0.75))
final$`CD19(Nd142)Di`
# Wanderlust values (higher means more somatic)
qplot(final$`bh-SNE1`,
final$`bh-SNE2`,
color = final$`CD19(Nd142)Di`,
xlab = "bh-SNE1",
ylab = "bh-SNE2") +
labs(color = "CD19") +
scale_color_gradientn(colors = c("black", "yellow"))
# Fraction of cells belonging to the IL-y condition.
qplot(final$`bh-SNE1`,
final$`bh-SNE2`,
color = final$IL7.fraction.cond.2,
xlab = "bh-SNE1",
ylab = "bh-SNE2") +
labs(color = "Fraction cells in IL7 condition") +
scale_color_gradientn(colors = c("black", "yellow"), limits = c(0.25, 0.75))
# Wanderlust values (higher means more somatic)
qplot(final$`bh-SNE1`,
final$`bh-SNE2`,
color = final$`CD20(Sm147)Di`,
xlab = "bh-SNE1",
ylab = "bh-SNE2") +
labs(color = "CD19") +
scale_color_gradientn(colors = c("black", "yellow"))
# Fraction of cells belonging to the IL-y condition.
qplot(final$`bh-SNE1`,
final$`bh-SNE2`,
color = final$IL7.fraction.cond.2,
xlab = "bh-SNE1",
ylab = "bh-SNE2") +
labs(color = "Fraction cells in IL7 condition") +
scale_color_gradientn(colors = c("black", "yellow"), limits = c(0.25, 0.75))
# Wanderlust values (higher means more somatic)
qplot(final$`bh-SNE1`,
final$`bh-SNE2`,
color = final$`IgM(Eu153)Di`,
xlab = "bh-SNE1",
ylab = "bh-SNE2") +
labs(color = "IgM") +
scale_color_gradientn(colors = c("black", "yellow"))
# Fraction of cells belonging to the IL-y condition.
qplot(final$`bh-SNE1`,
final$`bh-SNE2`,
color = final$IL7.fraction.cond.2,
xlab = "bh-SNE1",
ylab = "bh-SNE2") +
labs(color = "Fraction cells in IL7 condition") +
scale_color_gradientn(colors = c("black", "yellow"), limits = c(0.25, 0.75))
document()
devtools::document()
library(Sconify)
document()
devtools::document()
test <- 1:10
test
as.tibble(test)
as.tibble("test" = test)
as.tibble(test = test)
tibble(test)
tibble(test = test)
make.hist
# Compare to a coin toss distribution
# Flips a coin k number of times, n repetitions, and returns the vector containing the per-k percent heads
k.flip <- function(k, n) {
# The result
result <- sapply(1:n, function(i) {
# Get the fraction heads for n flips
flips <- sample(c(0, 1), k, replace = TRUE)
percent.heads <- sum(flips)/length(flips)
return(percent.heads)
})
}
coin.toss <- tibble("binomial" = k.flip(100, 10000))
make.hist(coin.toss, 100, "binomial", "fraction heads")
library(Sconify)
library(tidyverse)
# Visualization
make.hist(final, 100)
# Characteristics of the visualization
median(final$IL7.fraction.cond.2)
sd(final$IL7.fraction.cond.2)
document
devtools::document()
library(Sconify)
library(Sconify)
final$IL7.fraction.cond.2[1:10]
knitr::opts_chunk$set(fig.width=6, fig.height=4)
library(tidyverse)
# Visualization
make.hist(final, 100, "IL7.fraction.cond.2", "fraction IL7")
make.hist
?make.hist
rm(make.hist)
library(tidyverse)
# Visualization
make.hist(final, 100, "IL7.fraction.cond.2", "fraction IL7")
# Characteristics of the visualization
median(final$IL7.fraction.cond.2)
sd(final$IL7.fraction.cond.2)
# Compare to a coin toss distribution
# Flips a coin k number of times, n repetitions, and returns the vector containing the per-k percent heads
k.flip <- function(k, n) {
# The result
result <- sapply(1:n, function(i) {
# Get the fraction heads for n flips
flips <- sample(c(0, 1), k, replace = TRUE)
percent.heads <- sum(flips)/length(flips)
return(percent.heads)
})
}
coin.toss <- tibble("binomial" = k.flip(100, 10000))
make.hist(coin.toss, 100, "binomial", "fraction heads")
median(coin.toss)
# Compare to a coin toss distribution
# Flips a coin k number of times, n repetitions, and returns the vector containing the per-k percent heads
k.flip <- function(k, n) {
# The result
result <- sapply(1:n, function(i) {
# Get the fraction heads for n flips
flips <- sample(c(0, 1), k, replace = TRUE)
percent.heads <- sum(flips)/length(flips)
return(percent.heads)
})
}
coin.toss <- tibble("binomial" = k.flip(100, 10000))
make.hist(coin.toss, 100, "binomial", "fraction heads")
median(coin.toss$binomial)
sd(coin.toss$binomial)
dir()
files <- list.files()
files
setwd("~/Documents/local.R.projects/Sconify.extra")
files <- list.files()
files
multiplex.final.norm.false.scale.false <- read.csv(grep("norm.false.scale.false", files))
multiplex.final.norm.false.scale.false <- read.csv(files[grep("norm.false.scale.false", files)])
multiplex.final.norm.false.scale.false
multiplex.final.norm.false.scale.false <- read_csv(files[grep("norm.false.scale.false", files)])
multiplex.final.norm.false.scale.false
multiplex.final.norm.true.scale.true <- read.csv(files[grep("norm.true.scale.true", files)])
bz.gmcsf.final <- read_csv(files[grep("norm.false.scale.false", files)])
bz.gmcsf.final$X1 <- NULL
bz.gmcsf.final.norm.scale <- read_csv(files[grep("norm.true.scale.true", files)])
bz.gmcsf.final.norm.scale$X1 <- NULL
bz.gmcsf.final
bz.gmcsf.final.norm.scale
setwd("~/Documents/local.R.projects/Sconify")
devtools::use_data(bz.gmcsf.final)
devtools::use_data(bz.gmcsf.final.norm.scale)
document()
devtools::document()
library(Sconify)
browseVignettes(Sconify)
browseVignettes("Sconify")
